# Slack App Manifest for Leads Agent
# https://api.slack.com/reference/manifests
#
# Usage:
#   1. Go to https://api.slack.com/apps
#   2. Click "Create New App" → "From an app manifest"
#   3. Select your workspace
#   4. Paste this YAML (or switch to JSON)
#   5. Review and create
#
# After creating:
#   1. Copy Bot Token from "OAuth & Permissions" → SLACK_BOT_TOKEN
#   2. Go to "Basic Information" > "App-Level Tokens"
#   3. Generate token with scope "connections:write" → SLACK_APP_TOKEN
#
# IMPORTANT: The bot only receives messages from channels it's invited to.
# After installing, invite the bot to your channel(s) with: /invite @Leads Agent

display_information:
  name: Leads Agent
  description: AI-powered lead enrichment agent
  background_color: "#1a1a2e"

features:
  bot_user:
    display_name: Leads Agent
    always_online: true

oauth_config:
  scopes:
    bot:
      - channels:history    # Read messages in public channels the bot is invited to
      - channels:read       # View basic public channel info
      - groups:history      # Read messages in private channels the bot is invited to
      - groups:read         # View basic private channel info
      - chat:write          # Send messages as the bot

settings:
  event_subscriptions:
    # No request_url needed for Socket Mode - events are received via WebSocket
    bot_events:
      - message.channels    # Messages in public channels (bot must be invited)
      - message.groups      # Messages in private channels (bot must be invited)

  org_deploy_enabled: false
  socket_mode_enabled: true   # Uses outbound WebSocket, no public URL needed
  token_rotation_enabled: false